jQuery(document).ready(function(){jQuery(document).on('click','.popup .close_order, .overlay',function(e){e.preventDefault();jQuery('.popup, .overlay').css({'opacity':'0','visibility':'hidden'});jQuery('#buyoneclick_form_order input:checkbox').removeAttr("checked");jQuery('#buyoneclick_form_order input[type=hidden].valTrFal').val('valTrFal_disabled')});jQuery(function(){jQuery('#buyoneclick_form_order input:checkbox').change(function(){if(jQuery(this).is(':checked')){jQuery('#buyoneclick_form_order input[type=hidden].valTrFal').val('valTrFal_true')}else{jQuery('#buyoneclick_form_order input[type=hidden].valTrFal').val('valTrFal_disabled')}})});jQuery(document).on('click','#formOrderOneClick .popummessage .close_order, #formOrderOneClick .popummessage .close_message, #formOrderOneClick .overlay_message',function(){jQuery('#formOrderOneClick .popummessage, #formOrderOneClick .overlay_message').css({'opacity':'0','visibility':'hidden'})})});function getAjaxUrl(){return buyone_ajax.ajaxurl}
jQuery(document).ready(function(){jQuery(document).on('submit','#buyoneclick_form_order',function(e){e.preventDefault();var self=this;jQuery('#buyoneclick_form_order .buyButtonOkForm').prop('disabled','disabled');var root_selector='#buyoneclick_form_order';jQuery('#buyoneclick_form_order .buyButtonOkForm').addClass('running');jQuery.ajax({url:getAjaxUrl(),type:"POST",data:new FormData(this),cache:!1,processData:!1,contentType:!1}).done(function(response){jQuery("#buyoneclick_form_order .form-message-result").html('');var obj=response;if(!obj.success){jQuery(root_selector+" .form-message-result").html(obj.data.message)
jQuery('#buyoneclick_form_order .buyButtonOkForm').prop("disabled",!1);jQuery('#buyoneclick_form_order .buyButtonOkForm').removeClass('running');return!1}
if(buyone_ajax.success_action===1){jQuery(root_selector+" .form-message-result").html(buyone_ajax.after_message_form)}else if(buyone_ajax.success_action===2){jQuery(root_selector+" .form-message-result").html(buyone_ajax.after_message_form)
jQuery('.popup, .overlay').fadeOut(buyone_ajax.after_submit_form)}else if(buyone_ajax.success_action===3){jQuery('.popup, .overlay').hide();jQuery('#formOrderOneClick .popummessage, #formOrderOneClick .overlay_message').css('opacity','1');jQuery('#formOrderOneClick .popummessage, #formOrderOneClick .overlay_message').css('visibility','visible')}else if(buyone_ajax.success_action===4){jQuery("#buyoneclick_form_order .form-message-result").html(buyone_ajax.after_message_form)
window.location.href=buyone_ajax.after_submit_form}
jQuery('#buyoneclick_form_order .buyButtonOkForm').prop("disabled",!1);jQuery('#buyoneclick_form_order .buyButtonOkForm').removeClass('running')}).fail(function(response){console.log(response);jQuery(root_selector+" .form-message-result").html('server error 500');jQuery('#buyoneclick_form_order .buyButtonOkForm').prop("disabled",!1);jQuery('#buyoneclick_form_order .buyButtonOkForm').removeClass('running')})});jQuery(document).on('click','button.clickBuyButton',function(e){e.preventDefault();var zixnAjaxUrl=getAjaxUrl();var butObj='body';var button=jQuery(this);var urlpost=window.location.href;var productid=jQuery(this).attr('data-productid');var action='getViewForm';var variation_selected=0;var variation_attr='';jQuery(button).addClass('running');if(typeof buyone_ajax.work_mode!=='undefined'&&buyone_ajax.work_mode==1){action='add_to_cart';variation_selected=jQuery(this).attr('data-variation_id');variation_attr=jQuery('.variations_form.cart').serialize()}else{variation_selected=jQuery(this).attr('data-variation_id')}
jQuery.ajax({type:"POST",url:zixnAjaxUrl,data:{action:action,urlpost:urlpost,productid:productid,variation_selected:variation_selected,variation_attr:variation_attr,},success:function(response){if(action=='add_to_cart'){window.location.href=response;return!0}
jQuery('#formOrderOneClick').remove();jQuery(butObj).after(response);jQuery('.popup, .overlay').css('opacity','1');jQuery('.popup, .overlay').css('visibility','visible');if(typeof buyone_ajax.tel_mask!='undefined'){jQuery('#buyoneclick_form_order [name="txtphone"]').mask(buyone_ajax.tel_mask)}
jQuery(button).removeClass('running')}})});jQuery(document).on('click','button.clickBuyButtonCustom',function(e){e.preventDefault();var zixnAjaxUrl=getAjaxUrl();var butObj=this;var urlpost=window.location.href;var productid=jQuery(butObj).attr('data-productid');var name=jQuery(butObj).attr('data-name');var count=jQuery(butObj).attr('data-count');var price=jQuery(butObj).attr('data-price');jQuery.ajax({type:"POST",url:zixnAjaxUrl,async:!1,data:{action:'getViewFormCustom',urlpost:urlpost,productid:productid,name:name,count:count,price:price,},success:function(response){jQuery('#formOrderOneClick').remove();jQuery(butObj).after(response);jQuery('.popup, .overlay').css('opacity','1');jQuery('.popup, .overlay').css('visibility','visible')}})})})